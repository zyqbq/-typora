# 响应式布局

> 一个网站兼容多种终端
>
> 对不同尺寸的屏幕做出响应(媒体查询)， 并进行相应布局

###  1.如何设置断点 Breakpoint *

> 最小生效条件是320px

```css
/*屏幕显示，且屏幕宽度大于等于320px*/
@media screen and (min-width: 320px) {
        body {
          background-color: red;
        }
      }
```

### 2.媒体类型

   all（所有设备 默认值） / screen（屏幕设备） / print（打印设备） / speech（屏幕阅读器，一般供残障人士使用）

   all 和 screen 比较常用

all可以省略

```css
@media  (min-width: 320px) {
        body {
          background-color: red;
        }
      }
```

###  3.媒体查询中的逻辑

>  与( and )  / 或( , ) / 非( not )

####   3.1.与( and )

```css

  查询条件全部为真时生效

  screen 并且屏幕宽度 >=320px 且 <= 375px
  @media screen and (min-width: 320px) and (max-width: 375px) {
    body {
      background-color: red;
    }
  }
```

### 3.2.或( , )

​    查询条件中的任意一个为真时生效

```css
(screen 并且屏幕宽度 >= 375px) 或 (屏幕宽度 <= 320px)
@media screen and (min-width: 375px), (max-width: 320px) {
    body {
      background-color: red;
    }
  }
```

 3.3.非( not )
    对当前查询条件取反

```css
当 not 与 and 同时出现，not 对整个媒体查询生效
取反(screen 并且屏幕宽度 >=320px 且 <= 375px)
<320px或者>375px
@media not screen and (min-width: 320px) and (max-width: 375px) {
    body {
      background-color: red;
    }
  }

not 与逗号分隔的多个媒体查询同时存在时，not 只对它所在的那个查询生效
取反(screen 并且屏幕宽度 >=375px) 或 (all 并且屏幕宽度 <= 320px)
小于375成立
@media not screen and (min-width: 375px), all and (max-width: 320px) {
    body {
      background-color: red;
    }
  }
```

### 4.媒体特性

width / max-width / min-width

-webkit-device-pixel-ratio / 设备像素比

-webkit-max-device-pixel-ratio / 最大

-webkit-min-pixel-ratio最小

orientation: landscape / portrait/屏幕方向，水平/垂直

火狐浏览器才能调整像素比

```css
 /* dpr <= 2 且屏幕水平方向 */
    @media (-webkit-max-device-pixel-ratio: 2) and (orientation: landscape) {
      body {
        background-color: red;
      }
    }
```

### js获取像素比dpr

```js
  获取 dpr
      console.log(window.devicePixelRatio);
```

###  1.如何设置断点 Breakpoint

   @media screen and (min-width: 320px) {

​    body {

​     background-color: red;

​    }

   }



### 1.1.经验总结

   

​    Bootstrap 的断点

1. xs: < 576px 超小屏
2. sm: 576px ~ 768px 小屏
3. md: 768px ~ 992px 中屏
4. lg: 992px ~ 1200px 大屏
5. xl: >= 1200px 超大屏

   



1.2.改变屏幕大小，当页面显示不正常（或不符合要求）的时候，就需要设置**断点**了

### 2.媒体查询的书写位置

2.1.样式表（style 标签或单独的 CSS 文件）中（推荐）

2.2.样式**外链link**中（不推荐）

不论媒体查询的条件是否满足，都会下载样式文件

```css
<link rel="stylesheet" href="./css/index.css" /> 
<link
      rel="stylesheet"
      href="./css/mobile.css"
      media="screen and (max-width: 768px)"
    />
    <link
      rel="stylesheet"
      href="./css/pc.css"
      media="screen and (min-width: 768px)"
    />
```

#### PC first PC 端优先

​    从大到小

```css
.col {
            width: 8.333333%;
        }

        @media screen and (max-width:1200px) {
            .col {
                width: 16.666667%;
            }
        }

        @media screen and (max-width:992px) {
            .col {
                width: 25%;
            }
        }

        @media screen and (max-width:768px) {
            .col {
                width: 50%;
            }
        }

        @media screen and (max-width:576px) {
            .col {
                width: 100%;
            }
        }
```

```css
/* mobile first 移动端优先 从小到大  */
        .col {
            width: 100%;
        }

        @media screen and (min-width:576px) {
            .col {
                width: 50%;
            }
        }

        @media screen and (min-width:768px) {
            .col {
                width: 25%;
            }
        }

        @media screen and (min-width:992px) {
            .col {
                width: 16.666667%;
            }
        }

        @media screen and (min-width:1200px) {
            .col {
                width: 8.333333%;
            }
        }
```

通过手动设置媒体断点，替代js的实时变化

/* 断点 320px 414px 540px 768px 992px 1200px */

js的750px/10px=断点/?

?=断点/75

```css
      html {
        font-size: 4px;//300
      }
      @media (min-width: 320px) {
        html {
          font-size: 5px;//375px
        }
      }
      @media (min-width: 414px) {
        html {
          font-size: 6px;//450
        }
      }
      @media (min-width: 540px) {
        html {
          font-size: 8px;//600
        }
        .tabbar {
          font-size: 16px;//
        }
      }
      @media (min-width: 768px) {
        html {
          font-size: 11px;//825
        }
          //调出来的
        .tabbar {
          font-size: 20px;
        }
      }
      @media (min-width: 992px) {
        html {
          font-size: 14px;//1050
        }
      }
      @media (min-width: 1200px) {
        html {
          font-size: 18px;//1350
        }
        .tabbar {
          font-size: 24px;
        }
      }
```

